(()=>{const e=document.querySelector("body"),n=document.querySelector(".city"),a=document.querySelector(".time"),r=document.querySelector(".temp"),t=document.querySelector(".main > img"),i=document.querySelector(".weather"),c=document.querySelector("input"),m=document.querySelector(".feelslike > .data"),o=document.querySelector(".wind > .data"),u=document.querySelector(".humidity > .data"),d=document.querySelector(".pressure > .data"),l=["media/bg/clear.png","media/bg/rainy.png","media/bg/snowy.png","media/bg/sunny.png"];async function s(e){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=16cee363107451176fe52b1753cbc50c&units=metric`),a=await n.json();return console.log(a),"404"==a.cod?0:a}async function g(c){const s=await c;s&&(n.innerHTML=s.name,a.innerHTML=(new Date).toLocaleString(),r.innerHTML=s.main.temp+"&#8451;",i.innerHTML=s.weather[0].main,m.innerHTML=s.main.feels_like+"&#8451;",o.innerHTML=s.wind.speed+"km/h",u.innerHTML=s.main.humidity+"%",d.innerHTML=s.main.pressure+"hPa","Clear"==s.weather[0].main?(t.src="media/ico/mainclear.png",e.style.backgroundImage=`url(${l[0]})`):"Clouds"==s.weather[0].main?(t.src="media/ico/maincloud.png",e.style.backgroundImage=`url(${l[1]})`):"Atmosphere"==s.weather[0].main?(t.src="media/ico/mainatmosphere.png",e.style.backgroundImage=`url(${l[2]})`):"Rain"==s.weather[0].main?(t.src="media/ico/mainrain.png",e.style.backgroundImage=`url(${l[1]})`):"Drizzle"==s.weather[0].main?(t.src="media/ico/maindrizzle.png",e.style.backgroundImage=`url(${l[1]})`):"Thunderstorm"==s.weather[0].main?(t.src="media/ico/mainthunderstorm.png",e.style.backgroundImage=`url(${l[1]})`):"Snow"==s.weather[0].main&&(t.src="media/ico/mainsnow.png",e.style.backgroundImage=`url(${l[2]})`))}c.onkeydown=e=>{"Enter"==e.key&&(g(s(c.value)),c.value="")},g(s("Manchester"))})();